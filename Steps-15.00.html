
Creating " MeasureTable "with Measures and Calculate Columns
15
<p><br></p><p><br><img src="https://app.colaberry.com/uploads/ProjectStepsImages/1571/6/1.jpg"></p><p><br></p><p></p><p><b>Measures:</b></p><p><br></p><p>1.Total Ratings = SUM(ElectronicProducts[reviews.rating]) <br> <br><span style="background-color: rgb(255, 255, 0);">                 [format-Decimal number with 0 places </span>] <br>2.TotalReturnRate = SUM(ElectronicProducts[ReturnRates]) <br> <br><span style="background-color: rgb(255, 255, 0);">             [format-General with Auto places</span> ] <br>  <br>3.TotalRecommendationReview = SUM(ElectronicProducts[RecommendReview]) <br><span style="background-color: rgb(255, 255, 0);">[format-Whole number with 0 places</span> ] <br>  <br>4.ReturnRateYOY% =  <br>VAR LYRecturn = <br>CALCULATE([TotalReturnRate], DATEADD('Calendar'[Date],-1,YEAR)) <br>RETURN <br>IF(ISBLANK(LYRecturn ),0,DIVIDE(([TotalReturnRate]-LYRecturn),LYRecturn ))  <br>  <br>5. ReturnRate =  <br>IF([Average rating] &lt;= 3.95, 0.20, 0.02) <br> <br>  <br>6. RecYOY% =  <br>VAR LYRec =  <br>CALCULATE([TotalRecommendationReview], SAMEPERIODLASTYEAR('Calendar'[Date])) <br>RETURN <br>IF( <br>ISBLANK(LYRec ),  <br>BLANK(),  <br>DIVIDE([TotalRecommendationReview] - LYRec, LYRec, 0)  <br>) <br><span style="background-color: rgb(255, 255, 0);">[format-percentage with 1 place] </span><br>  <br>  <br>7. Rec% =  <br>VAR TotalRecommendations = SUM(ElectronicProducts[RecommendReview]) <br>VAR TotalReviews = COUNTROWS('ElectronicProducts') <br>RETURN  <br>IF(TotalReviews = 0, 0, TotalRecommendations / TotalReviews ) <br>  <br><span style="background-color: rgb(255, 255, 0);">[format-percentage with 0 places] </span><br>  <br>  <br>8. Ratings YOY% =  <br>VAR LYRatings =  <br>    CALCULATE([Total Ratings], SAMEPERIODLASTYEAR('Calendar'[Date])) <br>RETURN <br>IF( <br>    ISBLANK(LYRatings),  <br>    BLANK(),  <br>    DIVIDE([Total Ratings] - LYRatings, LYRatings, 0)  <br>) <br><span style="background-color: rgb(255, 255, 0);">[format-percentage with 1 place] </span><br>  <br>  <br>9. Ratings YOY =  <br>VAR LYRatings = <br>CALCULATE([Total Ratings], DATEADD('Calendar'[Date],-1,YEAR)) <br>RETURN <br>IF(ISBLANK(LYRatings),0,DIVIDE(([Total Ratings]-LYRatings),LYRatings))  <br>  <br>  <br>10. Rating% = AVERAGE(ElectronicProducts[reviews.rating]) / 5  <br><span style="background-color: rgb(255, 255, 0);">[format-percentage with 0 places] </span><br> <br>  <br>11. Average rating perDay = AVERAGEX(values(ElectronicProducts[reviews.date]),[Total Ratings]) <br> <br><span style="background-color: rgb(255, 255, 0);">[format-Decimal number with 0 places ] </span><br>  <br>  <br>12. Average Rating Change =  <br>VAR CurrentMonth = MAX('ElectronicProducts'[reviews.date]) <br>VAR PreviousMonthDate = EDATE(CurrentMonth, -1) <br>  <br>VAR CurrentRating =  <br>    CALCULATE( <br>        AVERAGE('ElectronicProducts'[reviews.rating]),  <br>        FILTER('ElectronicProducts',  <br>            YEAR('ElectronicProducts'[reviews.date]) = YEAR(CurrentMonth) &amp;&amp; <br>            MONTH('ElectronicProducts'[reviews.date]) = MONTH(CurrentMonth) <br>        ) <br>    ) <br>  <br>VAR PreviousRating =  <br>    CALCULATE( <br>        AVERAGE('ElectronicProducts'[reviews.rating]),  <br>        FILTER('ElectronicProducts',  <br>            YEAR('ElectronicProducts'[reviews.date]) = YEAR(PreviousMonthDate) &amp;&amp; <br>            MONTH('ElectronicProducts'[reviews.date]) = MONTH(PreviousMonthDate) <br>        ) <br>    ) <br>  <br>RETURN <br>    IF(ISBLANK(PreviousRating), 0, CurrentRating - PreviousRating) <br>  <br><span style="background-color: rgb(255, 255, 0);">[format-percentage with 1 place] </span><br>  <br> <br>  <br>  <br>13. Average rating = AVERAGE(ElectronicProducts[reviews.rating]) <br><span style="background-color: rgb(255, 255, 0);">[format-Decimal number with 0 places ] </span><br> <br>  <br>14. Arrow YOY Return =  <br> <br>SWITCH(TRUE(),  <br> <br>    [ReturnRateYOY%] &lt; 0.02, UNICHAR(9662),  // Downward arrow for returns less than 20% <br> <br>    [ReturnRateYOY%] &gt;= 0.02, UNICHAR(9652)  // Upward arrow for returns 20% or greater <br> <br>) <br> <br>  <br> <br>15.Arrow YOY Recommend = SWITCH(TRUE(), [RecYOY%] &lt;0, UNICHAR(9662),[RecYOY%] =0, UNICHAR(9666), UNICHAR(9652)) <br> <br>  <br>  <br>16. Arrow YOY = SWITCH(TRUE(), [Ratings YOY%] &lt;0, UNICHAR(9662),[Ratings YOY%] =0, UNICHAR(9666), UNICHAR(9652)) <br>17. Arrow MOM = SWITCH(TRUE(),[Average Rating Change] &lt;0,UNICHAR(9662),UNICHAR(9652)) <br>  <br> <br>  <br><b>Calculated Columns: </b><br>  <br>1.RecommendReview =IF(‘ElectronicProducts’[reviews.doRecommend]=TRUE(),1,0)  <br> <br>  <br>2.ReturnRates =  <br>IF([Average rating] &lt;= 3.95, 0.20, 0.02) <br>  <br><span style="background-color: rgb(255, 255, 0);">[format-percentage with 0 places] </span><br>  <br>  <br>3. ReviewTitleCount =  <br>VAR CurrentTitle = 'ElectronicProducts'[reviews.title] <br>RETURN CALCULATE( <br>    COUNTROWS('ElectronicProducts'), <br>    FILTER('ElectronicProducts', 'ElectronicProducts'[reviews.title] = CurrentTitle) <br>) <br>  <br>4. SentimentScores =  <br>IF(ElectronicProducts[reviews. rating]&gt;= 3.95, "Positive", "Negative")</p><p><br></p><p>Follow this GIF step by step :</p><p><br></p><p><img src="https://app.colaberry.com/uploads/ProjectStepsImages/1571/6/2.gif"><br></p><p><br></p><p><br></p>

<p><a href="https://www.phdata.io/blog/creating-a-measures-table-in-power-bi/" target="_blank">How to Create Measure Tables and Calculate Columns</a><br></p>

